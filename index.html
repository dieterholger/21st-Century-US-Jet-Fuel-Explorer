<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <title>21st Century Jet Fuel Explorer</title>
  <!-- Need to import Babelify so I can get promises working natively on other browsers. -->
  <link href='stylesheet.css' rel='stylesheet'>
  <script src='plotly-latest.min.js'></script>
</head>

<body>
  <!-- Loading animations for page: . -->


  <!-- Animated title -->

  <!-- By giving a div an inline background color property you can change the background color of Plot.ly graphs. Reference: https://codepen.io/etpinard/pen/JXagKL -->
  <div id='intro'>
    <p>Jet fuel is one of the most precious commodities on earth. Without it, we wouldn't be able to quickly transport goods or reach loved ones abroad.</p>
    <p>The United States is the largest consumer of jet fuel in the world. Various factors play into jet fuel consumption. These range from the sheer number of flights a day to the presence of military bases. But which parts of the U.S. use the most jet
      fuel?
    </p>
  </div>
  <div class='graph' id='stateJetFuelConsumptionChoropleth'></div>
  <div class='graph' id='stateJetFuelConsumptionScatter'></div>
  <div class='graph' id='stateJetFuelConsumptionBar'></div>
  <div class='graph' id='stateJetFuelConsumptionLineGraph'></div>
  <script>
    /* API documentation: https://www.eia.gov/opendata/ */

    /* API Key: 3d9541721290f76e46a2250bcbea2ff3 */

    /* Object of arrays to hold state data on consumption. Y-axis data. */

    /* Alphabetical order of states:
     Alabama [0]
     Alaska [1]
     Arizona [2]
     Arkansas [3]
     California [4]
     Colorado [5]
     Connecticut [6]
     Delaware [7]
     Florida [8]
     Georgia [9]
     Hawaii [10]
     Idaho [11]
     Illinois [12]
     Indiana [13]
     Iowa [14]
     Kansas [15]
     Kentucky [16]
     Louisiana [17]
     Maine [18]
     Maryland [19]
     Massachusetts [20]
     Michigan [21]
     Minnesota [22]
     Mississippi [23]
     Missouri [24]
     Montana [25]
     Nebraska [26]
     Nevada [27]
     New Hampshire [28]
     New Jersey [29]
     New Mexico [30]
     New York [31]
     North Carolina [32]
     North Dakota [33]
     Ohio [34]
     Oklahoma [35]
     Oregon [36]
     Pennsylvania [37]
     Rhode Island  [38]
     South Carolina [39]
     South Dakota [40]
     Tennessee [41]
     Texas [42]
     Utah [43]
     Vermont [44]
     Virginia [45]
     Washington [46]
     West Virginia [47]
     Wisconsin [48]
     Wyoming [49] */

    stateNames = ['Alabama', 'Alaska', 'Arizona', 'Arkansas', 'California', 'Colorado', 'Connecticut', 'Delaware', 'Florida', 'Georgia', 'Hawaii', 'Idaho', 'Illinois', 'Indiana', 'Iowa', 'Kansas', 'Kentucky',
      'Louisiana', 'Maine', 'Maryland', 'Massachusetts', 'Michigan', 'Minnesota', 'Mississippi', 'Missouri',
      'Montana', 'Nebraska', 'Nevada', 'New Hampshire', 'New Jersey', 'New York', 'North Carolina', 'North Dakota', 'Ohio', 'Oklahoma', 'Oregon', 'Pennsylvania', 'Rhode Island', 'South Carolina', 'South Dakota', 'Tennessee', 'Texas',
      'Utah', 'Vermont', 'Virginia', 'Washington', 'West Virginia', 'Wisconsin', 'Wyoming'
    ]

    annualStateJetFuelConsumptionIDs = ['SEDS.JFTCP.AL.A', 'SEDS.JFTCP.AK.A', 'SEDS.JFTCP.AR.A', 'SEDS.JFTCP.AZ.A', 'SEDS.JFTCP.CA.A', 'SEDS.JFTCP.CO.A', 'SEDS.JFTCP.CT.A', 'SEDS.JFTCP.DE.A', 'SEDS.JFTCP.FL.A', 'SEDS.JFTCP.GA.A',
      'SEDS.JFTCP.HI.A',
      'SEDS.JFTCP.ID.A', 'SEDS.JFTCP.IL.A', 'SEDS.JFTCP.IN.A', 'SEDS.JFTCP.IA.A', 'SEDS.JFTCP.KS.A', 'SEDS.JFTCP.KY.A', 'SEDS.JFTCP.LA.A', 'SEDS.JFTCP.ME.A', 'SEDS.JFTCP.MD.A', 'SEDS.JFTCP.MA.A', 'SEDS.JFTCP.MI.A', 'SEDS.JFTCP.MN.A',
      'SEDS.JFTCP.MS.A', 'SEDS.JFTCP.MO.A', 'SEDS.JFTCP.MT.A', 'SEDS.JFTCP.NE.A', 'SEDS.JFTCP.NV.A', 'SEDS.JFTCP.NH.A', 'SEDS.JFTCP.NJ.A', 'SEDS.JFTCP.NM.A', 'SEDS.JFTCP.NY.A', 'SEDS.JFTCP.NC.A', 'SEDS.JFTCP.ND.A', 'SEDS.JFTCP.OH.A',
      'SEDS.JFTCP.OK.A', 'SEDS.JFTCP.OR.A', 'SEDS.JFTCP.PA.A', 'SEDS.JFTCP.RI.A', 'SEDS.JFTCP.SC.A', 'SEDS.JFTCP.SD.A', 'SEDS.JFTCP.TN.A', 'SEDS.JFTCP.TX.A', 'SEDS.JFTCP.UT.A', 'SEDS.JFTCP.VT.A', 'SEDS.JFTCP.VA.A', 'SEDS.JFTCP.WA.A',
      'SEDS.JFTCP.WV.A', 'SEDS.JFTCP.WI.A', 'SEDS.JFTCP.WY.A'
    ]

    var stateJetFuelConsumptionData = {
      'SEDS.JFTCP.AL.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.AK.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.AZ.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.AR.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.CA.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.CO.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.CT.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.DE.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.FL.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.GA.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.HI.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.ID.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.IL.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.IN.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.IA.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.KS.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.KY.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.LA.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.ME.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.MD.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.MA.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.MI.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.MN.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.MS.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.MO.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.MT.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.NE.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.NV.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.NH.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.NJ.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.NM.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.NY.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.NC.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.ND.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.OH.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.OK.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.OR.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.PA.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.RI.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.SC.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.SD.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.TN.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.TX.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.UT.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.VT.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.VA.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.WA.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.WV.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.WI.A': {
        x: [],
        y: []
      },
      'SEDS.JFTCP.WY.A': {
        x: [],
        y: []
      },
    }

    /* Settings for Choropleth. */

    var plotAnnualStateJetFuelConsumptionChoropleth = function() {

      Plotly.newPlot('stateJetFuelConsumptionChoropleth', [{
        type: 'choropleth',
        locationmode: 'USA-states',
        locations: ['AL', 'AK', 'AZ', 'AR', 'CA', 'CO', 'CT', 'DE', 'FL', 'GA', 'HI', 'ID', 'IL', 'IN', 'IA', 'KS', 'KY', 'LA', 'ME', 'MD', 'MA', 'MI', 'MN', 'MS', 'MO', 'MT', 'NE', 'NV', 'NH', 'NJ', 'NM', 'NY', 'NC', 'ND', 'OH', 'OK',
          'OR', 'PA', 'RI', 'SC', 'SD', 'TN', 'TX', 'UT', 'VT', 'VA', 'WA', 'WV', 'WI', 'WY'
        ],
        z: [stateJetFuelConsumptionData['SEDS.JFTCP.AL.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.AK.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.AZ.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.AR.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.CA.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.CO.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.CT.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.DE.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.FL.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.GA.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.HI.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.ID.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.IL.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.IN.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.IA.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.KS.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.KY.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.LA.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.ME.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.MD.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.MA.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.MI.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.MN.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.MS.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.MO.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.MT.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.NE.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.NV.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.NH.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.NJ.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.NM.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.NY.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.NC.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.ND.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.OH.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.OK.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.OR.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.PA.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.RI.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.SC.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.SD.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.TN.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.TX.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.UT.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.VT.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.VA.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.WA.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.WV.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.WI.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.WY.A'].y[0]
        ],
        zmin: 0,
        zmax: 150000000,
        text: 'Barrels per Year',
        hoverinfo: 'z+text+location',
        colorscale: [
          [0, 'rgb(228, 241, 254)'],
          [0.5, 'rgb(103, 128, 159)'],
          [1, 'rgb(1,50,67)'],
        ],
        colorbar: {
          thickness: 20
        },
        marker: {
          line: {
            color: 'rgb(255,255,255)',
            width: 2
          }
        }
      }], {
        geo: {
          scope: 'usa',
          lonaxis: {
            range: []
          },
          lataxis: {
            range: []
          }
        },
        width: 1200,
        height: 700
      })
    }

    /* Bar graph settings. */

    var plotAnnualStateJetFuelConsumptionBar = function() {

      Plotly.newPlot('stateJetFuelConsumptionBar', [{
        type: 'bar',
        orientation: 'h',
        x: [stateJetFuelConsumptionData['SEDS.JFTCP.AL.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.AK.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.AZ.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.AR.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.CA.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.CO.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.CT.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.DE.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.FL.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.GA.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.HI.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.ID.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.IL.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.IN.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.IA.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.KS.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.KY.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.LA.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.ME.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.MD.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.MA.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.MI.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.MN.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.MS.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.MO.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.MT.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.NE.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.NV.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.NH.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.NJ.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.NM.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.NY.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.NC.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.ND.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.OH.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.OK.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.OR.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.PA.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.RI.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.SC.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.SD.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.TN.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.TX.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.UT.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.VT.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.VA.A'].y[0],
          stateJetFuelConsumptionData['SEDS.JFTCP.WA.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.WV.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.WI.A'].y[0], stateJetFuelConsumptionData['SEDS.JFTCP.WY.A'].y[0]
        ],
        y: stateNames,
        marker: {
          color: 'rgb(1,50,67)'
        },
        transforms: [{
          type: 'sort',
          target: 'x',
          order: 'ascending'
        }, {
          type: 'filter',
          target: 'x',
          operation: '>',
          value: 10000000
        }]
      }], {
        width: 1200,
        height: 700
      })
    }

    /* Scatter plot settings. */

    var plotAnnualStateJetFuelConsumptionScatter = function() {

      Plotly.plot('stateJetFuelConsumptionScatter', [{
        mode: 'markers',
        x: [stateJetFuelConsumptionData['SEDS.JFTCP.AL.A'].x, stateJetFuelConsumptionData['SEDS.JFTCP.AK.A'].x],
        y: [stateJetFuelConsumptionData['SEDS.JFTCP.AL.A'].y, stateJetFuelConsumptionData['SEDS.JFTCP.AK.A'].y],
        marker: {
          size: [10, 20, 30],
          color: [1, 2, 3],
          colorbar: {}
        }
      }])

    }

    /* Line graph settings. */

    var plotAnnualStateJetFuelConsumptionLine = function() {

      var AL = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.AL.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.AL.A'].y,
        name: 'Alabama',
        type: 'scatter'
      };

      var AK = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.AK.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.AK.A'].y,
        name: 'Alaska',
        type: 'scatter'
      };

      var AZ = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.AZ.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.AZ.A'].y,
        name: 'Arizona',
        type: 'scatter'
      };

      var AR = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.AR.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.AR.A'].y,
        name: 'Arkansas',
        type: 'scatter'
      };

      var CA = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.CA.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.CA.A'].y,
        name: 'California',
        type: 'scatter'
      };

      var CO = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.CO.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.CO.A'].y,
        name: 'Colorado',
        type: 'scatter'
      };

      var CT = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.CT.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.CT.A'].y,
        name: 'Connecticut',
        type: 'scatter'
      };

      var DE = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.DE.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.DE.A'].y,
        name: 'Delaware',
        type: 'scatter'
      };

      var FL = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.FL.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.FL.A'].y,
        name: 'Florida',
        type: 'scatter'
      };

      var GA = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.GA.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.GA.A'].y,
        name: 'Georgia',
        type: 'scatter'
      };

      var HI = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.HI.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.HI.A'].y,
        name: 'Hawaii',
        type: 'scatter'
      };

      var ID = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.ID.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.ID.A'].y,
        name: 'Idaho',
        type: 'scatter'
      };

      var IL = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.IL.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.IL.A'].y,
        name: 'Illinois',
        type: 'scatter'
      };

      var IN = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.IN.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.IN.A'].y,
        name: 'Indiana',
        type: 'scatter'
      };

      var IA = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.IA.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.IA.A'].y,
        name: 'Iowa',
        type: 'scatter'
      };

      var KS = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.KS.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.KS.A'].y,
        name: 'Kansas',
        type: 'scatter'
      };

      var KY = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.KY.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.KY.A'].y,
        name: 'Kentucky',
        type: 'scatter'
      };

      var LA = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.LA.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.LA.A'].y,
        name: 'Louisiana',
        type: 'scatter'
      };

      var ME = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.ME.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.ME.A'].y,
        name: 'Maine',
        type: 'scatter'
      };

      var MD = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.MD.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.MD.A'].y,
        name: 'Maryland',
        type: 'scatter'
      };

      var MA = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.MA.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.MA.A'].y,
        name: 'Massachusetts',
        type: 'scatter'
      };

      var MI = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.MI.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.MI.A'].y,
        name: 'Minnesota',
        type: 'scatter'
      };

      var MN = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.MN.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.MN.A'].y,
        name: 'Minnesota',
        type: 'scatter'
      };

      var MS = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.MS.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.MS.A'].y,
        name: 'Mississippi',
        type: 'scatter'
      };

      var MO = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.MO.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.MO.A'].y,
        name: 'Missouri',
        type: 'scatter'
      };

      var MT = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.MT.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.MT.A'].y,
        name: 'Montana',
        type: 'scatter'
      };

      var NE = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.NE.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.NE.A'].y,
        name: 'Nebraska',
        type: 'scatter'
      };

      var NV = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.NV.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.NV.A'].y,
        name: 'Nevada',
        type: 'scatter'
      };

      var NH = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.NH.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.NH.A'].y,
        name: 'New Hampshire',
        type: 'scatter'
      };

      var NJ = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.NJ.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.NJ.A'].y,
        name: 'New Jersey',
        type: 'scatter'
      };

      var NM = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.NM.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.NM.A'].y,
        name: 'New Mexico',
        type: 'scatter'
      };

      var NY = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.NY.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.NY.A'].y,
        name: 'New York',
        type: 'scatter'
      };

      var NC = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.NC.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.NC.A'].y,
        name: 'North Carolina',
        type: 'scatter'
      };

      var ND = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.ND.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.ND.A'].y,
        name: 'North Dakota',
        type: 'scatter'
      };

      var OH = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.OH.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.OH.A'].y,
        name: 'Ohio',
        type: 'scatter'
      };

      var OK = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.OK.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.OK.A'].y,
        name: 'Oklahoma',
        type: 'scatter'
      };

      var OR = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.OR.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.OR.A'].y,
        name: 'Oregon',
        type: 'scatter'
      };

      var PA = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.PA.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.PA.A'].y,
        name: 'Pennsylvania',
        type: 'scatter'
      };

      var RI = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.RI.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.RI.A'].y,
        name: 'Rhode Island',
        type: 'scatter'
      };

      var SC = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.SC.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.SC.A'].y,
        name: 'South Carolina',
        type: 'scatter'
      };

      var SD = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.SD.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.SD.A'].y,
        name: 'South Dakota',
        type: 'scatter'
      };

      var TN = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.TN.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.TN.A'].y,
        name: 'Tennessee',
        type: 'scatter'
      };

      var TX = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.TX.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.TX.A'].y,
        name: 'Texas',
        type: 'scatter'
      };

      var UT = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.UT.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.UT.A'].y,
        name: 'Utah',
        type: 'scatter'
      };

      var VT = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.VT.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.VT.A'].y,
        name: 'Vermont',
        type: 'scatter'
      };

      var VA = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.VA.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.VA.A'].y,
        name: 'Virginia',
        type: 'scatter'
      };

      var WA = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.WA.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.WA.A'].y,
        name: 'Washington',
        type: 'scatter'
      };

      var WV = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.WV.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.WV.A'].y,
        name: 'West Virginia',
        type: 'scatter'
      };

      var WI = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.WI.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.WI.A'].y,
        name: 'Wisconsin',
        type: 'scatter'
      };

      var WY = {
        x: stateJetFuelConsumptionData['SEDS.JFTCP.WY.A'].x,
        y: stateJetFuelConsumptionData['SEDS.JFTCP.WY.A'].y,
        name: 'Wyoming',
        type: 'scatter'
      };

      var data = [AL, AK, AZ, AR, CA, CO, CT, DE, FL, GA, HI, ID, IL, IN, IA, KS, KY, LA, ME, MD, MA, MI, MN, MS, MO, MT, NE, NV, NH, NJ, NM, NY, NC, ND, OH, OK, OR, PA, RI, SC, SD, TN, TX, UT, VT, VA, WA, WV, WI, WY];

      var layout = {
        title: 'Annual Jet Fuel Consumption By U.S. State',
        height: 700,
        width: 1200,
        xaxis: {
          title: 'Year',
          titlefont: {
            family: 'Courier New, monospace',
            size: 18,
            color: '#7f7f7f'
          }
        },
        yaxis: {
          title: 'Thousands of scatterrels',
          titlefont: {
            family: 'Courier New, monospace',
            size: 18,
            color: '#7f7f7f'
          }
        },
      };

      Plotly.newPlot('stateJetFuelConsumptionLineGraph', data, layout);
    }



    var getAnnualStateConsumptionAPIData = function() {
      for (var i = -1; annualStateJetFuelConsumptionIDs.length > i; i++) {
        var url = 'http://api.eia.gov/series/?api_key=3d9541721290f76e46a2250bcbea2ff3&series_id=' + annualStateJetFuelConsumptionIDs[i] + '&start=20000101&out=json'

        var xhttp = new XMLHttpRequest();

        xhttp.open('GET', url);

        xhttp.send();

        xhttp.addEventListener('load', processResponse);

        var processResponse = function() {

          apidata = JSON.parse(this.response);

          var id = apidata.series[0].series_id;

          /* This loops through all of the state ids and adds them to the appropriate state arrays for annual state jet fuel consumption. */

          var data = apidata.series[0].data;

          for (var i = 0; i < data.length; i++) {
            stateJetFuelConsumptionData[id].x.push(data[i][0]);
            /* Multiply each value by 1,000 to convert units. */
            stateJetFuelConsumptionData[id].y.push(data[i][1] * 1000);
          }
          if (i === data.length) {
            plotAnnualStateJetFuelConsumptionChoropleth();
            // plotAnnualStateJetFuelConsumptionScatter();
            // plotAnnualStateJetFuelConsumptionBar();
            // plotAnnualStateJetFuelConsumptionLine();
          }
        }
      }
    }

    getAnnualStateConsumptionAPIData();
  </script>
</body>

</html>
